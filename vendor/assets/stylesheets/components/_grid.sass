@import ../base/global
@import ../utils/media
@import ../utils/mixins

=calc-grid-columns($class, $i: 1)
  @for $i from 1 through $crs-grid-columns
    .crs-grid__unit--#{$class}-#{$i}
      width: percentage($i / $crs-grid-columns)

    .crs-grid__push--#{$class}-#{$i}
      left: percentage($i / $crs-grid-columns)
      right: auto

    .crs-grid__pull--#{$class}-#{$i}
      right: percentage($i / $crs-grid-columns)
      left: auto

    .crs-grid__offset--#{$class}-#{$i}
      margin-left: percentage($i / $crs-grid-columns)

    .crs-blocks--#{$class}-#{$i} .crs-blocks__element
      width: calc(#{percentage(1 / ($crs-grid-columns / ($crs-grid-columns / $i)))} - #{$crs-grid-gutter-width / 2})

// config
$crs-grid-columns: 12
$crs-grid-gutter-width: $crs-global-gutter
$crs-grid-max-width: 1200px

html, body
  font-size: 100%
  height: 100%
  overflow-x: hidden

html
  overflow-y: auto

.crs-grid__column,
.crs-grid__columns
  box-sizing: border-box
  display: inline-block
  font-size: 1rem
  margin: 0
  text-align: left
  vertical-align: top
  width: 100%
  position: relative
  padding: 0 ($crs-grid-gutter-width/2)

.crs-grid__column--centered
  display: block
  margin: 0 auto

.crs-grid__row--middle
  .crs-grid__column,
  .crs-grid__columns
    vertical-align: middle

.crs-grid__row--bottom
  .crs-grid__column,
  .crs-grid__columns
    vertical-align: bottom

.crs-grid__row
  +clearfix

  display: block
  font-size: 0
  margin: 0 auto
  box-sizing: border-box
  padding: 0
  text-align: left
  max-width: $crs-grid-max-width

  .crs-grid__row
    margin: 0 ($crs-grid-gutter-width/-2)


  &.crs-grid__row--collapse

    & > .crs-grid__column
      padding-left: 0
      padding-right: 0

.crs-grid__row--centered
  text-align: center

.crs-grid__push--small-reset
  left: auto !important
  right: auto !important

.crs-blocks
  margin: 0 $crs-grid-gutter-width / -4

  .crs-blocks__element
    position: relative
    float: left
    box-sizing: border-box
    transition: background .2s ease
    margin: $crs-grid-gutter-width/4


+calc-grid-columns(sm)

@media #{$medium-up}

  html, body
    overflow-x: initial

  .crs-grid__push--md-reset
    left: auto
    right: auto


  +calc-grid-columns(md)

@media #{$large-up}

  .crs-grid__push--lg-reset
    left: auto
    right: auto

  +calc-grid-columns(lg)

