@import ../base/global

// config
$crs-mobile-trigger-width: 55px
$crs-mobile-trigger-height: 50px
$crs-mobile-tab-height: 70px
$crs-mobile-tab-bg: $crs-primary-color
$crs-mobile-tab-font-size: 20px
$crs-mobile-nav-bg: rgba(darken($crs-secondary-color, 10%), .95)
$crs-mobile-link-height: 70px
$crs-mobile-link-font-size: 20px
$crs-mobile-link-color: $crs-global-font-inverted
$crs-mobile-link-border: $crs-global-font-inverted
$crs-mobile-link-bg: $crs-primary-color

=mobile-tabs-count($i: 3)
  .crs-mobile__tabs--#{$i}
    .crs-mobile__tab
      width: percentage(1 / $i)


@media #{$small-only}
  .crs-mobile__block-overflow
    overflow: hidden

.crs-mobile
  z-index: z-calc($z-index-list, mobile)
  position: fixed
  height: 100%
  width: 100%
  top: 0
  left: 0
  background: $crs-mobile-nav-bg
  transform: translateY(-100%)
  transition: transform .3s ease

  @media #{$large-up}
    display: none

.crs-mobile__trigger
  z-index: z-calc($z-index-list, mobile-trigger)
  display: block
  border: none
  width: rem(55px)
  height: rem(50px)
  cursor: pointer
  position: fixed
  right: 0
  top: 0

  span
    position: absolute
    top: rem(23px)
    left: rem(15px)
    right: rem(15px)
    display: block
    height: rem(3px)
    background: $crs-global-font-inverted
    transition: transform .3s ease, top .1s ease

    &:before,
    &:after
      content: ""
      position: absolute
      display: block
      left: 0
      width: 100%
      background: $crs-global-font-inverted
      height: 100%
      transition: transform .3s ease, top .2s ease
      transform-origin: 50% 50%

    &:before
      top: rem(-7px)

    &:after
      top: rem(7px)

  &:hover

    span:before
      top: rem(-9px)

    span:after
      top: rem(9px)


.crs-mobile--show

  .crs-mobile__trigger

    span
      background: transparent

    span:before, span:after

      top: 0

    span:before
      transform: rotate3d(0,0,1,45deg)

    span:after
      transform: rotate3d(0,0,1,-45deg)

  .crs-mobile
    transform: translateY(0)

    li
      opacity: 1
      transform: translateX(0)

.crs-mobile__panel
  position: relative
  display: block
  height: 100%

.crs-mobile__tabs
  position: absolute
  bottom: 0
  left: 0
  width: 100%
  height: rem($crs-mobile-tab-height)
  border-top: 1px solid darken($crs-mobile-tab-bg, 10%)
  font-size: 0
  vertical-align: middle

+mobile-tabs-count(3)

.crs-mobile__tab
  box-sizing: border-box
  font-size: rem($crs-mobile-tab-font-size)
  text-align: center
  display: inline-block
  color: #fff
  background: $crs-mobile-tab-bg
  height: 100%
  vertical-align: middle
  padding: rem(16px)
  // line-height: $crs-mobile-tab-height
  border-right: 1px solid darken($crs-mobile-tab-bg, 10%)

  &:last-child
    border-right: none

  &:hover
    color: #fff
    background: darken($crs-mobile-tab-bg, 10%)

  small
    display: block
    font-size: 60%
    margin-top: rem(5px)

  i
    top: rem(-10px)

.crs-mobile__nav
  position: absolute
  height: calc(100% - #{rem($crs-mobile-tab-height)} - #{rem(20px)} - #{rem($crs-global-topbar-height)})
  width: 100%
  top: rem($crs-global-topbar-height)
  overflow-y: scroll
  left: 0
  padding: 0
  margin: 0
  font-weight: $crs-global-font-weight
  text-transform: uppercase

.crs-mobile__option
  box-sizing: border-box
  display: inline-block
  width: 100%
  position: relative
  text-align: center
  vertical-align: middle

.crs-mobile__link
  display: block
  width: 100%
  line-height: rem($crs-mobile-link-height)
  font-size: rem($crs-mobile-link-font-size)
  cursor: pointer
  color: $crs-mobile-link-color
  // background: $crs-mobile-link-bg
  border-bottom: 1px solid rgba($crs-mobile-link-border, .4)

