<div ng-controller="CommentCtrl">
  <hr class="crs-typo__hr" />
  <h2 class="crs-typo__h2" ng-if="!proposition.comments.length">
    No comments yet! Leave a comment!
  </h2>
  <div class="crs-comment" ng-repeat="comment in proposition.comments">
    <a class="crs-comment__author" href="#" ng-bind="comment.owner.name"></a><small class="crs-comment__date">{{ comment.created_at | date:'medium' }}</small>
    <div ng-if="editCommentId != comment.id">
      <p class="crs-typo__p" ng-bind="comment.body"></p>
      <div class="crs-comment__options">
        <span class="crs-comment__option" ng-click="editComment(comment)">Edit</span><span class="crs-comment__option">Delete</span>
      </div>
    </div>
    <form ng-if="editCommentId == comment.id" ng-submit="updateComment(comment, proposition)">
      <div class="crs-input__group crs-utils--no-margin">
        <textarea class="born-input__textarea" ng-model="comment.body"></textarea><textarea class="comments__textarea--change form__validate" minlength="2" ng-model="comment.body"></textarea>
      </div>
      <button class="crs-button crs-button--success crs-button--small crs-utils--no-margin" type="submit">Save</button><button class="crs-button crs-button--secondary crs-button--small crs-utils--no-margin" ng-click="cancelEditComment()" type="button">Cancel</button>
    </form>
  </div>
  <form ng-submit="createComment(proposition)">
    <div class="crs-grid__row crs-grid__row--middle">
      <div class="crs-grid__column">
        <div class="crs-input__group">
          <textarea class="form__validate" minlength="2" ng-model="proposition.newComment.body"></textarea><label>Your comment</label>
        </div>
        <button class="crs-button crs-button--small" type="submit">Submit comment</button>
        <div class="comments__container">
          <button class="crs-button crs-button--small comments__submit" type="submit">Submit comment</button>
        </div>
      </div>
    </div>
  </form>
</div>